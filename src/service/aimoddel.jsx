import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

  export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a 3-day budget-friendly trip to Las Vegas for a couple.  I've included hotel options and a suggested itinerary, focusing on free or low-cost activities and dining to keep costs down.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Two\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"location\": \"Las Vegas, NV\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30-$70 per night\",\n      \"hotelImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynn/global/promotions/email/wlv-offers-hotel-tile-desktop.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1343,\n        \"longitude\": -115.1657\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers budget-friendly rooms, free circus acts, and a carnival midway.  A bit older but a solid choice for saving money.  Consider a room away from the midway for less noise.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.caesars.com/content/dam/caesars/destinations/las-vegas/properties/the-linq/things-to-do/the-linq-pool/pool-dt-1440x600.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1252,\n        \"longitude\": -115.1558\n      },\n      \"rating\": 3.7,\n      \"description\": \"Located at the north end of the Strip, the Stratosphere offers great views and slightly lower prices.  The tower access is an extra fee but worth it for the panoramic vistas. Rooms can be basic.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$45-$90 per night\",\n      \"hotelImageUrl\": \"https://media.excalibur.com/images/venues/excalibur-hotel-casino/pool/excalibur-pool-01-1440x600.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0957,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel on the south end of the Strip.  Good value, family-friendly atmosphere, and convenient location. Rooms are standard but comfortable.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (Free Activities)\",\n      \"morning\": {\n        \"placeName\": \"Welcome to Las Vegas Sign\",\n        \"placeDetails\": \"A classic photo opportunity! Arrive early to avoid crowds.\",\n        \"placeImageUrl\": \"https://www.lasvegasnevada.gov/Portals/0/EasyDNNnews/161/img-Welcome-Sign.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0461,\n          \"longitude\": -115.1730\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"timeToSpend\": \"30 minutes\",\n        \"bestTimeToVisit\": \"Early morning (before 9 AM)\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n        \"placeDetails\": \"Stunning floral displays that change seasonally. Completely free to enter.\",\n        \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-exhibit-chinese-new-year-2024-01-dt.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1127,\n          \"longitude\": -115.1746\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.8,\n        \"timeToSpend\": \"1-2 hours\",\n        \"bestTimeToVisit\": \"Afternoon (less crowded than evenings)\"\n      },\n      \"evening\": {\n        \"placeName\": \"Fountains of Bellagio\",\n        \"placeDetails\": \"Spectacular water show set to music.  Free and runs every 30 minutes in the afternoon/evening.\",\n        \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-daytime-dt.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1128,\n          \"longitude\": -115.1743\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.9,\n        \"timeToSpend\": \"30-60 minutes\",\n        \"bestTimeToVisit\": \"Evening (for the full effect)\"\n      },\n      \"dinner\": {\n        \"placeName\": \"In-N-Out Burger\",\n        \"placeDetails\": \"A West Coast classic!  Budget-friendly and delicious.\",\n        \"placeImageUrl\": \"https://www.in-n-out.com/static/7b980b032b9c39677a6956f34ef3c581/65733/desktop-home-hero-2.webp\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1030,\n          \"longitude\": -115.1717\n        },\n        \"ticketPricing\": \"$10-$15 for two\",\n        \"rating\": 4.6,\n        \"timeToSpend\": \"1 hour\",\n        \"bestTimeToVisit\": \"Anytime (expect a line)\"\n      }\n    },\n    \"day2\": {\n      \"theme\": \"Downtown & Fremont Street Experience\",\n      \"morning\": {\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"Walk around during the day to explore the shops, casinos, and street performers. It's a different vibe than the Strip.\",\n        \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/08/fremont-street-experience-events.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1703,\n          \"longitude\": -115.1424\n        },\n        \"ticketPricing\": \"Free (except for attractions)\",\n        \"rating\": 4.3,\n        \"timeToSpend\": \"2-3 hours\",\n        \"bestTimeToVisit\": \"Late morning/early afternoon (less crowded)\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Downtown Container Park\",\n        \"placeDetails\": \"Unique shopping and dining experience built from shipping containers. Free to enter.\",\n        \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2023/02/DCP_Hero2_900x600-1.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1685,\n          \"longitude\": -115.1409\n        },\n        \"ticketPricing\": \"Free (except for purchases)\",\n        \"rating\": 4.4,\n        \"timeToSpend\": \"1-2 hours\",\n        \"bestTimeToVisit\": \"Afternoon\"\n      },\n      \"evening\": {\n        \"placeName\": \"Fremont Street Experience Light Show\",\n        \"placeDetails\": \"A dazzling light and sound show projected onto the Viva Vision canopy. Free!\",\n        \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/08/fremont-street-experience-events.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1703,\n          \"longitude\": -115.1424\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.7,\n        \"timeToSpend\": \"1-2 hours\",\n        \"bestTimeToVisit\": \"Evening (shows run every hour)\"\n      },\n      \"dinner\": {\n        \"placeName\": \"Heart Attack Grill\",\n        \"placeDetails\": \"A humorous restaurant with over-the-top burgers (not for the faint of heart!). Be prepared for a unique experience.\",\n        \"placeImageUrl\": \"https://s3-media0.fl.yelpcdn.com/bphoto/r89G5n48339w31X9c11YdQ/o.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1702,\n          \"longitude\": -115.1416\n        },\n        \"ticketPricing\": \"$20-$30 for two\",\n        \"rating\": 3.5,\n        \"timeToSpend\": \"1-2 hours\",\n        \"bestTimeToVisit\": \"Evening\"\n      }\n    },\n    \"day3\": {\n      \"theme\": \"Relaxation & Departure\",\n      \"morning\": {\n        \"placeName\": \"High Roller Observation Wheel\",\n        \"placeDetails\": \"A giant observation wheel offering stunning views of the city. Tickets can be purchased in advance for better prices.\",\n        \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/destinations/las-vegas/things-to-do/high-roller/high-roller-night-dt-1440x600.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1148,\n          \"longitude\": -115.1691\n        },\n        \"ticketPricing\": \"$25-$37 per person\",\n        \"rating\": 4.6,\n        \"timeToSpend\": \"1-2 hours\",\n        \"bestTimeToVisit\": \"Morning (less crowded, better light for photos)\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Pool Time\",\n        \"placeDetails\": \"Enjoy your hotel pool. Many Vegas hotels have great pools.\",\n        \"placeImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynn/global/amenities/pools/wynn-pool-dt.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1162,\n          \"longitude\": -115.1750\n        },\n        \"ticketPricing\": \"Free (if included with your hotel)\",\n        \"rating\": 4.5,\n        \"timeToSpend\": \"2-3 hours\",\n        \"bestTimeToVisit\": \"Afternoon\"\n      },\n      \"evening\": {\n        \"placeName\": \"Departure\",\n        \"placeDetails\": \"Head to the airport or begin your onward journey.\",\n        \"placeImageUrl\": \"https://www.airport-ewr.com/static/87000b9e0f22d8c1219df66c6d29b545/30377/airport.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0801,\n          \"longitude\": -115.1523\n        },\n        \"ticketPricing\": \"N/A\",\n        \"rating\": 4.0,\n        \"timeToSpend\": \"Varies\",\n        \"bestTimeToVisit\": \"As needed based on flight schedule.\"\n      },\n      \"dinner\": {\n        \"placeName\": \"Budget-Friendly Meal at Hotel\",\n        \"placeDetails\": \"Grab a quick and cheap bite at your hotel's food court or a nearby fast-food restaurant before heading to the airport.\",\n        \"placeImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynn/global/amenities/pools/wynn-pool-dt.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1162,\n          \"longitude\": -115.1750\n        },\n        \"ticketPricing\": \"$10-$15 for two\",\n        \"rating\": 4.0,\n        \"timeToSpend\": \"1 hour\",\n        \"bestTimeToVisit\": \"Anytime\"\n      }\n    }\n  },\n  \"notes\": [\n    \"Consider purchasing a day pass for the Las Vegas Monorail to easily travel along the Strip.\",\n    \"Take advantage of free activities like walking the Strip, window shopping, and watching street performers.\",\n    \"Look for happy hour deals and early bird specials at restaurants.\",\n    \"Bring comfortable shoes, as you'll be doing a lot of walking.\",\n    \"Stay hydrated!  Las Vegas is hot and dry.\",\n    \"Compare prices for show tickets online before buying them at the box office.\"\n  ]\n}\n```\n\n**Key Considerations for Budget Travel:**\n\n*   **Accommodation:**  I've focused on hotels that generally offer lower rates.  Prices can fluctuate wildly depending on the season, day of the week, and events.  Book in advance and consider visiting during the off-season for the best deals.\n*   **Food:**  Eating out can be expensive.  I've suggested some budget-friendly options like In-N-Out and Heart Attack Grill.  Also, consider packing snacks and drinks to avoid impulse purchases.  Look for happy hour specials.\n*   **Transportation:** Walking is the best way to see the Strip. Consider the monorail if you want to travel a longer distance more quickly.  Avoid taxis or ride-sharing services as they can add up quickly.\n*   **Activities:**  I've emphasized free activities and attractions. Research for free shows or events during your visit.\n*   **Gambling:** This is a source of entertainment for some but can quickly drain your budget. Set a limit and stick to it.  Consider avoiding it altogether if you're on a tight budget.\n\n**Important Notes:**\n\n*   **Prices are estimates:** Hotel and ticket prices can vary significantly. Always check current prices before booking.\n*   **Availability:** Hotel availability can change. Book in advance, especially during peak season.\n*   **Ratings:** Ratings are subjective and based on general reviews.\n*   **Flexibility:** Be prepared to adjust your itinerary based on your budget, interests, and the weather.\n*   **Safety:** Stay aware of your surroundings, especially at night, and keep your belongings secure.\n*   **Enjoy!** Vegas can be overwhelming.  Pace yourself and enjoy the experience.\n\nRemember to verify all details and make reservations where necessary. Have a great trip!\n"},
          ],
        },
      ],
    });
  
    
 